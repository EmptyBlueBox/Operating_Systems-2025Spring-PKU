# 操作系统作业 3 —— 内存管理与虚拟存储

<center><div style='height:2mm;'></div><div style="font-size:10pt;">梁昱桐 2100013116</div></center>
<center><span style="font-size:9pt;line-height:9mm"><i>Peking University</i></span>
</center>

> [!NOTE]
> AIGC Declaration: 在完成本作业的过程中，我使用了 `Gemini 2.5 Pro` (`gemini-2.5-pro-exp-03-25`) 进行辅助。

1. 复习课件 `5-内存管理概述`，结合课上讲述的交换技术相关内容，可以借助⼤模型获取相关资料（但请不要原样复制），简要回答以下问题：什么是交换技术？交换技术的优缺点是什么？交换技术适⽤于什么场景/什么系统？

2. xv6 源代码阅读相关问题——内存管理部分。请阅读 `xv6-riscv` 源代码及 `xv6-book` 的相关章节进⾏学习后，回答下列问题。

    参考 `xv6-book` 章节：3.1~3.8。

    参考 `xv6-riscv` 相关源代码⽂件：`kernel` ⽬录下：`memorylayout.h`, `vm.c`, `kalloc.c`, `exec.c`, `elf.h`, `riscv.h`。

   1. 阅读物理内存分配相关部分，回答以下问题：xv6-riscv 的物理⻚以什么数据结构进⾏组织？并简要说明获取物理⻚和释放物理⻚的流程。(alloc)

   2. 阅读进程⻚表分配相关部分代码，简要描述进程虚拟地址空间增⻓的过程。（提示：可参考 `uvmalloc` 函数、`mappages` 函数、`kalloc` 函数）。(vmalloc)

   3. 复习课件 `6-虚拟存储技术`，结合课上学习的 `mmap` 相关知识，允许查阅相关资料或借助⼤模型，简要说明如果需要为 `xv6-riscv` 实现 `mmap` 系统调⽤，相关的实现要点（例如需要增加的数据结构，需要增加的处理机制等）。(mmap)
